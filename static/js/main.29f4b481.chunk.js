(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{309:function(e,t,n){e.exports=n(609)},314:function(e,t,n){},316:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),i=n.n(o),c=(n(314),n(28)),s=n(47),l=n(49),u=n(48),m=n(50),d=(n(316),n(24)),h=n(87),g=n(30),p=n(612),f=n(613),b=n(139),E=n.n(b),w=n(226),k=n(20),v=n(82),y=n.n(v),j=n(84),O=n.n(j),S=n(81),T=n.n(S),C=n(83),x=n.n(C),F=n(62),I=n.n(F),D=n(61),_=n.n(D),N=Object(k.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(T.a),B=0;function L(e,t,n,a){return{id:B+=1,name:e,calories:t,fat:n,carbs:a}}L("Frozen yoghurt",159,6,24),L("Ice cream sandwich",237,9,37),L("Eclair",262,16,24),L("Cupcake",305,3.7,67),L("Gingerbread",356,16,49);var z=Object(k.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes;return console.log(e.userData),r.a.createElement(_.a,{className:t.root},r.a.createElement(y.a,{className:t.table,style:{tableLayout:"auto"}},r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement(N,null,"Title"),r.a.createElement(N,{align:"right"},"Lattitude"),r.a.createElement(N,{align:"right"},"Longitude"),r.a.createElement(N,{align:"center"},"Message"))),r.a.createElement(O.a,null,e.userData.map(function(e){return r.a.createElement(I.a,{className:t.row,key:e.id},r.a.createElement(N,{component:"th",scope:"row"},e.title),r.a.createElement(N,{align:"right"},e.lat),r.a.createElement(N,{align:"right"},e.lng),r.a.createElement(N,{align:"",style:{paddingLeft:160}},e.message))}))))}),A=n(228),q=n.n(A),P=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(E.a.mark(function e(){var t,n,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("id_token"),n=q.a.create({baseURL:"https://blooming-cove-35281.herokuapp.com",headers:{Authorization:"Bearer ".concat(t)}}),e.prev=2,e.next=5,n.get("/api/geo_caches");case 5:a=e.sent,this.setState({user:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(z,{userData:this.state.user})}}]),t}(r.a.Component),J=n(230),R=n(140),W=n.n(R),G=function e(){var t=this;Object(c.a)(this,e),this.login=function(e,n,a){return t.fetch("https://blooming-cove-35281.herokuapp.com/api/oauth/token",{method:"POST",body:JSON.stringify({grant_type:e,email:n,password:a})}).then(function(e){return t.setToken(e.access_token),Promise.resolve(e)})},this.loggedIn=function(){var e=t.getToken();return!!e&&!t.isTokenExpired(e)},this.isTokenExpired=function(e){try{return W()(e).exp<Date.now()/1e3}catch(t){return console.log("expired check failed!"),!1}},this.setToken=function(e){localStorage.setItem("id_token",e)},this.getToken=function(){return localStorage.getItem("id_token")},this.getConfirm=function(){var e=W()(t.getToken());return console.log("Token Decoded!"),e},this.fetch=function(e,n){var a={Accept:"application/json","Content-Type":"application/json"};return t.loggedIn()&&(a.Authorization="Bearer "+t.getToken()),fetch(e,Object(J.a)({headers:a},n)).then(t._checkStatus).then(function(e){return e.json()})},this._checkStatus=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},M=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,Object.assign({margin:"dense",style:{width:"100%"},variant:"outlined"},e)),r.a.createElement(g.a,{name:e.name,render:function(e){return r.a.createElement("div",{style:{color:"red",width:"100%"}},e)}}))},H=n(231),U=function(e){var t=e.children,n=Object(H.a)(e,["children"]);return r.a.createElement(d.a,Object.assign({style:{width:"100%",height:60,marginTop:15,borderRadius:0,background:"linear-gradient(to right bottom, #008ED4, #1BC4F3)"},variant:"contained",color:"primary"},n),t)},V=function(e){var t=e.errors,n=e.classes;return r.a.createElement(d.c,{elevation:1,className:n.paper},r.a.createElement(g.c,null,r.a.createElement(d.c,{style:{border:"1px solid black",width:600,height:400,backgroundColor:"#EDF6FF"}},r.a.createElement(d.b,{container:!0,justify:"center",style:{paddingLeft:48,paddingRight:48}},r.a.createElement("p",{style:{fontSize:40,marginBottom:15,marginTop:10,fontFamily:"sans-serif"}},r.a.createElement("b",null,"Sign in")),r.a.createElement(g.b,{name:"email",render:function(e){var n=e.field;return r.a.createElement(M,Object.assign({error:t.email},n,{label:"Email"}))}}),r.a.createElement(g.b,{name:"password",render:function(e){var n=e.field;return r.a.createElement(M,Object.assign({error:t.password,type:"password"},n,{label:"Password"}))}}),r.a.createElement(U,{type:"submit"},"SIGN IN")))))},X=h.object({email:h.string().required("Email is required"),password:h.string().required("Password is required field")}),$={email:"",password:""},K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){n.setState({email:e.email,password:e.password}),n.Auth.login("password",n.state.email,n.state.password).then(function(e){e.access_token?n.setState({redirect:!0}):alert(e.error)}).catch(function(e){alert("this is catch block error")}),console.log(n.state)},n.state={email:"",password:"",redirect:!1},n.Auth=new G,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(p.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:P}));var e=this.props;return r.a.createElement("div",{className:e.container},r.a.createElement(g.d,{initialValues:$,validationSchema:X,onSubmit:this.handleSubmit,onChange:this.handleChange},function(t){var n=t.errors;return r.a.createElement(V,{errors:n,classes:e})}))}}]),t}(r.a.Component),Q=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.b,{container:!0,spacing:0,alignItems:"center",justify:"center",style:{minHeight:"100vh",backgroundColor:"#EDF6FF"}},r.a.createElement(K,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[309,2,1]]]);
//# sourceMappingURL=main.29f4b481.chunk.js.map